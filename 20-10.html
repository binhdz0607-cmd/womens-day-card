<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Women's Day üíê</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css">
    <style>
        body {
            margin: 0;
            background: linear-gradient(135deg, #ffe4ec, #f9d0e3);
            overflow: hidden;
            font-family: "Segoe Script", cursive;
        }

        h1 {
            text-align: center;
            color: #e75480;
            margin-top: 30px;
            font-size: 2.2em;
            animation: fadeIn 2s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Phong b√¨ */
        .letter {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 80vh;
        }

        .valentines {
            position: relative;
            top: 20px;
            animation: upDown 3s ease-in-out infinite;
            cursor: pointer;
        }

        @keyframes upDown {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        .envelope {
            width: 300px;
            height: 200px;
            background-color: #f08080;
            position: relative;
            border-radius: 10px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }

        .envelope::before {
            content: "";
            position: absolute;
            width: 212px;
            height: 212px;
            background-color: #f08080;
            transform: rotate(45deg);
            top: -105px;
            left: 44px;
            border-radius: 20px 0 0 0;
        }

        .card {
            position: absolute;
            background-color: #fffaf0;
            width: 270px;
            height: 170px;
            top: 10px;
            left: 15px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0,0,0,0.2);
        }

        .text {
            position: absolute;
            text-align: center;
            width: 100%;
            top: 40px;
            color: #c43d64;
            font-size: 26px;
            font-weight: bold;
        }

        .heart {
            background-color: #d62828;
            height: 30px;
            width: 30px;
            transform: rotate(-45deg);
            position: absolute;
            bottom: 40px;
            left: calc(50% - 15px);
        }

        .heart:before,
        .heart:after {
            content: "";
            position: absolute;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background-color: #d62828;
        }

        .heart:before { top: -15px; left: 0; }
        .heart:after { left: 15px; top: 0; }

        /* Tr√°i tim bay */
        .hearts div {
            position: absolute;
            background: red;
            width: 10px;
            height: 10px;
            transform: rotate(-45deg);
            opacity: 0.7;
            border-radius: 50%;
            animation: heartUp 2s ease-out infinite;
        }

        .hearts div::before,
        .hearts div::after {
            content: "";
            position: absolute;
            width: 10px;
            height: 10px;
            background: red;
            border-radius: 50%;
        }

        .hearts div::before { top: -5px; }
        .hearts div::after { left: 5px; }

        @keyframes heartUp {
            0% { transform: translateY(0) scale(0.5) rotate(-45deg); opacity: 1; }
            100% { transform: translateY(-150px) scale(1.2) rotate(-45deg); opacity: 0; }
        }

        /* Hoa r∆°i */
        .petal {
            position: absolute;
            background-color: pink;
            width: 10px;
            height: 10px;
            border-radius: 50%;
            opacity: 0.6;
            animation: fall linear infinite;
        }

        @keyframes fall {
            0% { transform: translateY(-10px); opacity: 1; }
            100% { transform: translateY(100vh) rotate(360deg); opacity: 0; }
        }

        /* Popup l·ªùi ch√∫c */
        .popup {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(255, 192, 203, 0.3);
            backdrop-filter: blur(4px);
            justify-content: center;
            align-items: center;
        }

        .popup-content {
            background: white;
            padding: 30px;
            border-radius: 15px;
            width: 350px;
            text-align: center;
            box-shadow: 0 5px 20px rgba(0,0,0,0.3);
            animation: zoomIn 0.6s ease;
        }

        @keyframes zoomIn {
            from { transform: scale(0.5); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        .popup-content h3 {
            color: #e75480;
        }

        .close-btn {
            margin-top: 20px;
            background: #e75480;
            color: white;
            border: none;
            border-radius: 10px;
            padding: 8px 20px;
            cursor: pointer;
            transition: 0.3s;
        }

        .close-btn:hover {
            background: #c13b65;
        }

        .music-btn {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #e75480;
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 20px;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
        }

        /* n√∫t chia s·∫ª (QR) */
        .share-btn {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: #6f2d66;
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 20px;
            cursor: pointer;
            box-shadow: 0 4px 10px rgba(0,0,0,0.3);
        }

        /* popup QR */
        .qr-popup {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.5);
            justify-content: center;
            align-items: center;
            z-index: 9999;
        }
        .qr-box {
            background: #fff;
            padding: 18px;
            border-radius: 12px;
            text-align: center;
            width: 320px;
        }
        .qr-box img { width: 300px; height: 300px; }
        .qr-box .link { word-break: break-all; font-size: 13px; color:#333; margin-top:8px; }
        .qr-box .small { font-size:12px; color:#666; margin-top:6px; }
        .qr-close { margin-top:10px; padding:8px 12px; border-radius:8px; border:none; background:#e75480; color:#fff; cursor:pointer; }
    </style>
</head>

<body>
    <h1>üå∑ Happy Women's Day üå∑</h1>

    <div class="letter" onclick="openPopup(); playMusic();">
        <div class="valentines">
            <div class="envelope"></div>
            <div class="card">
                <div class="text">M·ªü th∆∞ üíå</div>
                <div class="heart"></div>
            </div>
            <div class="hearts">
                <div style="left:50px; animation-delay:0s;"></div>
                <div style="left:120px; animation-delay:0.5s;"></div>
                <div style="left:190px; animation-delay:1s;"></div>
            </div>
        </div>
    </div>

    <!-- Popup l·ªùi ch√∫c -->
    <div class="popup" id="popup">
        <div class="popup-content">
            <h3>üíñ L·ªùi ch√∫c g·ª≠i ƒë·∫øn b·∫°n üíñ</h3>
            <p>Ch√∫c b·∫°n lu√¥n xinh ƒë·∫πp, r·∫°ng r·ª°,<br>
            ƒë∆∞·ª£c y√™u th∆∞∆°ng v√† h·∫°nh ph√∫c m·ªói ng√†y! üå∏<br><br>
            Happy Women's Day! üíê</p>
            <button class="close-btn" onclick="closePopup()">ƒê√≥ng</button>
        </div>
    </div>

    <!-- Nh·∫°c n·ªÅn -->
    <audio id="bg-music" loop>
        <source src="https://cdn.pixabay.com/download/audio/2022/03/08/audio_67f16b1b5e.mp3?filename=womens-day-301298.mp3" type="audio/mpeg">
        Tr√¨nh duy·ªát c·ªßa b·∫°n kh√¥ng h·ªó tr·ª£ √¢m thanh.
    </audio>

    <button class="music-btn" onclick="toggleMusic()">üîä</button>
    <button class="share-btn" onclick="showQR()">üîó</button>

    <!-- Popup QR -->
    <div class="qr-popup" id="qrPopup">
        <div class="qr-box">
            <h4>Chia s·∫ª trang</h4>
            <img id="qrImage" src="" alt="QR code">
            <div class="link" id="shareLink"></div>
            <div class="small" id="qrNote"></div>
            <div style="margin-top:10px;">
                <button class="qr-close" onclick="copyLink()">Sao ch√©p link</button>
                <button class="qr-close" style="background:#777;margin-left:8px;" onclick="closeQR()">ƒê√≥ng</button>
            </div>
        </div>
    </div>

    <script>
        const popup = document.getElementById("popup");
        const music = document.getElementById("bg-music");
        let isPlaying = false;

        function openPopup() {
            popup.style.display = "flex";
        }

        function closePopup() {
            popup.style.display = "none";
        }

        function playMusic() {
            if (!isPlaying) {
                music.play();
                isPlaying = true;
            }
        }

        function toggleMusic() {
            if (isPlaying) {
                music.pause();
            } else {
                music.play();
            }
            isPlaying = !isPlaying;
        }

        // T·∫°o hi·ªáu ·ª©ng hoa r∆°i
        function createPetal() {
            const petal = document.createElement("div");
            petal.classList.add("petal");
            document.body.appendChild(petal);
            petal.style.left = Math.random() * 100 + "vw";
            petal.style.animationDuration = Math.random() * 5 + 5 + "s";
            petal.style.opacity = Math.random();
            petal.style.width = petal.style.height = Math.random() * 8 + 8 + "px";

            setTimeout(() => {
                petal.remove();
            }, 10000);
        }

        setInterval(createPetal, 300);

        function showQR() {
            const popup = document.getElementById('qrPopup');
            const qrImage = document.getElementById('qrImage');
            const shareLink = document.getElementById('shareLink');
            const qrNote = document.getElementById('qrNote');

            let url = window.location.href;

            // N·∫øu ƒëang m·ªü file:// th√¨ th√¥ng b√°o h∆∞·ªõng d·∫´n (file local kh√¥ng chia s·∫ª ƒë∆∞·ª£c qua QR)
            if (window.location.protocol === 'file:') {
                qrNote.textContent;
                // gi·ªØ nguy√™n url (file://...), nh∆∞ng ng∆∞·ªùi d√πng n√™n thay b·∫±ng URL public/LAN ƒë·ªÉ qu√©t tr√™n ƒëi·ªán tho·∫°i kh√°c
            } else {
                qrNote.textContent = "";
            }

            // t·∫°o URL QR b·∫±ng d·ªãch v·ª• mi·ªÖn ph√≠ (api.qrserver)
            const qrSrc = 'https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=' + encodeURIComponent(url);
            qrImage.src = qrSrc;
            shareLink.textContent = url;
            popup.style.display = 'flex';
        }

        function closeQR() {
            document.getElementById('qrPopup').style.display = 'none';
        }

        function copyLink() {
            const url = document.getElementById('shareLink').textContent;
            if (!url) return;
            navigator.clipboard?.writeText(url).then(() => {
                alert('Link ƒë√£ ƒë∆∞·ª£c sao ch√©p v√†o clipboard');
            }, () => {
                prompt('Sao ch√©p th·ªß c√¥ng:', url);
            });
        }
    </script>
</body>
</html>
